<div>
    <button class="btn" id="delete-button">Supprimer cet événement</button>
    <form id="delete-form" method="post" action="{{ path('app_evenement_back_delete', {'id': evenement.id}) }}" style="display: none;">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ evenement.id) }}">
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    document.getElementById('delete-button').addEventListener('click', function() {
        Swal.fire({
            title: 'Êtes-vous sûr ?',
            text: "Vous ne pourrez pas annuler cette action !",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Oui, supprimer !',
            cancelButtonText: 'Non, annuler'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('delete-form').submit();
            }
        });
    });
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% block css %}
   <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>
  <title>BackOffice Admin</title>
  <!-- loader-->
  <link href="assets/back/css/pace.min.css" rel="stylesheet"/>
  <script src="assets/back/js/pace.min.js"></script>
  <!--favicon-->
    <link rel="icon" href="{{ asset('assets/back/images/coffeeshop_favicon.ico') }}" type="image/x-icon">
  <!-- simplebar CSS-->
  <link href="assets/back/plugins/simplebar/css/simplebar.css" rel="stylesheet"/>
  <!-- Bootstrap core CSS-->
  <link href="assets/back/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- animate CSS-->
  <link href="assets/back/css/animate.css" rel="stylesheet" type="text/css"/>
  <!-- Icons CSS-->
  <link href="assets/back/css/icons.css" rel="stylesheet" type="text/css"/>
  <!-- Sidebar CSS-->
  <link href="assets/back/css/sidebar-menu.css" rel="stylesheet"/>
  <!-- Custom Style-->
  <link href="assets/back/css/app-style.css" rel="stylesheet"/>

  
{% endblock %}


{% block body %}

<body class="bg-theme bg-theme79">

<!-- start loader -->
   <div id="pageloader-overlay" class="visible incoming"><div class="loader-wrapper-outer"><div class="loader-wrapper-inner" ><div class="loader"></div></div></div></div>
   <!-- end loader -->

<!-- Start wrapper-->
 <div id="wrapper">

  <!--Start sidebar-wrapper-->
   <div id="sidebar-wrapper" data-simplebar="" data-simplebar-auto-hide="true">
     <div class="brand-logo">
      <a href="index.html">
       <img src="assets/back/images/logo_coffee.png" class="logo-icon" alt="logo icon">
       <h5 class="logo-text">BackOffice Admin</h5>
     </a>
   </div>
    <ul class="sidebar-menu do-nicescrol">
      <li class="sidebar-header">MAIN NAVIGATION</li>
      <li>
        <a href="back">
          <i class="zmdi zmdi-view-dashboard"></i> <span>Dashboard</span>
        </a>
      </li>
      <li>
        <a href="rencontreBack">
          <i class="zmdi zmdi-invert-colors"></i> <span>Rencontres</span>
        </a>
      </li>
      <li>
        <a href="forumback">
          <i class="zmdi zmdi-format-list-bulleted"></i> <span>Forum</span>
        </a>
      </li>
      <li>
        <a href="produitBack">
          <i class="zmdi zmdi-grid"></i> <span>Produits</span>
        </a>
      </li>
      <li>
        <a href="commandeBack">
          <i class="zmdi zmdi-face"></i> <span>Commandes</span>
        </a>
      </li>
      <li>
        <a href="reservationBack">
          <i class="zmdi zmdi-calendar-check"></i> <span>Reservation</span>
        </a>
      </li>
      <li>
        <a href="evenementBack">
          <i class="zmdi zmdi-face"></i> <span>Evenement</span>
        </a>
      </li>
      <li>
        <a href="loginback" target="_blank">
          <i class="zmdi zmdi-lock"></i> <span>Login</span>
        </a>
      </li>
    </ul>   
   </div>
   <!--End sidebar-wrapper-->

<!--Start topbar header-->
<header class="topbar-nav">
 <nav class="navbar navbar-expand fixed-top">
  <ul class="navbar-nav mr-auto align-items-center">
    <li class="nav-item">
      <a class="nav-link toggle-menu" href="javascript:void();">
       <i class="icon-menu menu-icon"></i>
     </a>
    </li>
    <li class="nav-item">
      <form class="search-bar">
        <input type="text" class="form-control" placeholder="Enter keywords">
         <a href="javascript:void();"><i class="icon-magnifier"></i></a>
      </form>
    </li>
  </ul>
     
  <ul class="navbar-nav align-items-center right-nav-link">
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
      <i class="fa fa-envelope-open-o"></i></a>
    </li>
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
      <i class="fa fa-bell-o"></i></a>
    </li>
    <li class="nav-item">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-toggle="dropdown" href="#">
        <span class="user-profile"><img src="https://via.placeholder.com/110x110" class="img-circle" alt="user avatar"></span>
      </a>
      <ul class="dropdown-menu dropdown-menu-right">
       <li class="dropdown-item user-details">
        <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="https://via.placeholder.com/110x110" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-2 user-title">Sarajhon Mccoy</h6>
            <p class="user-subtitle">mccoy@example.com</p>
            </div>
           </div>
          </a>
        </li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-envelope mr-2"></i> Inbox</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-wallet mr-2"></i> Account</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-settings mr-2"></i> Setting</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-power mr-2"></i> Logout</li>
      </ul>
    </li>
  </ul>
</nav>
</header>
<!--End topbar header-->






<div class="clearfix"></div>

<div class="content-wrapper">
    <div class="container-fluid">
        <div class="row mt-3">
            <!-- Bouton "Consulter calendrier" aligné à droite -->
 <div class="col-12 d-flex justify-content-end mb-3">
    <a href="{{ path('calendrierEvenement') }}" class="btn btn-light px-5">
        <i class="fas fa-calendar-alt mr-2" style="font-size: 1em; background-color: #8B5E3C; border-radius: 12px;"></i> Consulter calendrier
    </a>
</div>

            <!-- Contenu principal -->
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4 class="card-title m-0" style="font-size: 1.5em;">Les Événements</h4>
                            <a href="{{ path('app_evenement_back_new') }}" class="btn btn-light px-5">
                                <i class="icon-plus mr-2" style="font-size: 1em; background-color: #8B5E3C; border-radius: 12px;"></i> Ajouter un événement
                            </a>
                        </div>

                        <!-- Tableau des événements -->
  <table class="table table-hover table-bordered">
  <thead class="text-white" style="
    font-size: 1.5em; 
    background-color: #8B5E3C; 
    border-radius: 12px; 
    font-weight: bold; 
    color: #fff; 
    text-align: center; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
    border: 2px solid #6B3F2D;">
    <!-- Table headers here -->
  </thead>                                <tr>
                                    <th>Titre</th>
                                    <th>Description</th>
                                    <th>Date</th>
                                    <th>Prix</th>
                                    <th>Type</th>
                                    <th>Capacité</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for evenement in evenements %}
                                    <tr>
                                        <td>{{ evenement.titreEvenement }}</td>
<td>
    <span data-toggle="tooltip" title="{{ evenement.descriptionEvent }}">
        {{ evenement.descriptionEvent|slice(0, 30) ~ (evenement.descriptionEvent|length > 30 ? '...' : '') }}
    </span>
</td>                                        <td>{{ evenement.dateEvent ? evenement.dateEvent|date('Y-m-d') : '' }}</td>
                                        <td>{{ evenement.prixEvent }}</td>
                                        <td>{{ evenement.typeEvent }}</td>
                                        <td>{{ evenement.capaciteMax }}</td>
                                        <td>
                                            <a href="{{ path('app_evenement_back_show', {'id': evenement.id}) }}" class="btn btn-light"  ><i class="icon-eye" ></i></a>
                                            <a href="{{ path('app_evenement_back_edit', {'id': evenement.id}) }}" class="btn btn-light "><i class="icon-pencil"></i> </a>
                                            <a href="{{ path('app_evenement_back_delete', {'id': evenement.id}) }}" class="btn btn-light" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet événement?')"><i class="icon-trash"></i></a>
                                        </td>
                                    </tr>
                                {% else %}
                                    <tr>
                                        <td colspan="7" class="text-center">Aucun événement trouvé</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        <hr>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}




{% block js %}


  <!-- Bootstrap core JavaScript-->
  <script src="assets/back/js/jquery.min.js"></script>
  <script src="assets/back/js/popper.min.js"></script>
  <script src="assets/back/js/bootstrap.min.js"></script>
	
  <!-- simplebar js -->
  <script src="assets/back/plugins/simplebar/js/simplebar.js"></script>
  <!-- sidebar-menu js -->
  <script src="assets/back/js/sidebar-menu.js"></script>
  
  <!-- Custom scripts -->
  <script src="assets/back/js/app-script.js"></script>

  <script>
    $(document).ready(function() {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>


<!-- SweetAlert2 -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- Votre script JavaScript personnalisé -->
        <script>
            document.getElementById('delete-button').addEventListener('click', function() {
                Swal.fire({
                    title: 'Êtes-vous sûr ?',
                    text: "Vous ne pourrez pas annuler cette action !",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Oui, supprimer !',
                    cancelButtonText: 'Non, annuler'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Soumettre le formulaire de suppression
                        document.getElementById('delete-form').submit();
                        // Afficher un message de succès
                        Swal.fire(
                            'Supprimé !',
                            'L\'événement a été supprimé.',
                            'success'
                        );
                    } else if (result.dismiss === Swal.DismissReason.cancel) {
                        // Afficher un message d'annulation
                        Swal.fire(
                            'Annulé',
                            'L\'événement n\'a pas été supprimé.',
                            'error'
                        );
                    }
                });
            });
        </script>


{% endblock %}